var $;$=jQuery;Array.prototype.unique=function(){var e,t,n,r,i,s;t={};for(e=r=0,i=this.length;0<=i?r<i:r>i;e=0<=i?++r:--r){t[this[e]]=this[e]}s=[];for(e in t){n=t[e];s.push(n)}return s};$.fn.extend({cambio:function(e){var t,n,r,i,s,o,u=this;s={floor:true,debug:false};s=$.extend(s,e);t=[];n=function(e){if(s.debug){return typeof console!=="undefined"&&console!==null?console.log(e):void 0}};this.each(function(){return t.push($(this).data("cambio").match(/[A-Z]{3}/g).join(""))});i="https://query.yahooapis.com/v1/public/yql?q=";r="select * from yahoo.finance.xchange where pair in ("+t.map(function(e){return"'"+e+"'"}).unique().join(",")+")";e="&format=json&diagnostics="+s.debug+"&env=store://datatables.org/alltableswithkeys&callback=";o=i+r+e;return $.get(o,function(e){return u.each(function(){var t,n,r,i,o,u,a,f,l,c;i=$(this).data("cambio").match(/(\d+) (.+)/);t=parseInt(i[1]);n=i[2];l=e.query.results.rate;c=[];for(a=0,f=l.length;a<f;a++){r=l[a];if(n===r.Name){o=r.Rate;u=t*o;u=s.floor?Math.floor(u):u.toFixed(2);c.push($(this).text(u))}else{c.push(void 0)}}return c})})}})
